<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuizMakerAI | Creador de Cuestionarios Interactivos para Educadores</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Variables de diseño */
        :root {
            /* Colores principales */
            --primary: #3b82f6;
            --primary-dark: #1e40af;
            --secondary: #8b5cf6;
            --accent: #f59e0b;
            --success: #22c55e;
            --error: #ef4444;
            
            /* Colores de fondo y texto */
            --background: #0f0f1a;
            --surface: rgba(255, 255, 255, 0.05);
            --surface-hover: rgba(59, 130, 246, 0.1);
            --text: #e5e7eb;
            --text-light: #f3f4f6;
            --text-dark: #1f2937;
            --border: rgba(59, 130, 246, 0.3);
            --border-light: rgba(255, 255, 255, 0.1);
            
            /* Sombras */
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
            
            /* Espaciado */
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;
        }

        /* Reset y estilos base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--background);
            color: var(--text);
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            min-height: 100vh;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        a:hover {
            color: var(--secondary);
        }

        /* Layout principal */
        .page-wrapper {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            margin-top: 80px; /* Espacio para la navbar */
        }

        /* Navegación */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 15, 26, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 1000;
            box-shadow: var(--shadow-md);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-sm) var(--spacing-lg);
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
        }

        .logo-icon {
            margin-right: var(--spacing-xs);
            font-size: 1.4rem;
        }

        .nav-links {
            display: flex;
            gap: var(--spacing-lg);
            list-style: none;
        }

        .nav-link {
            color: var(--text);
            font-weight: 500;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .nav-link:hover {
            background: var(--surface-hover);
            color: var(--primary);
        }

        .nav-link.active {
            background: rgba(59, 130, 246, 0.2);
            color: var(--primary);
        }

        /* Hero Section */
        .hero {
            padding: var(--spacing-xl) 0;
            text-align: center;
            margin-top: 60px; /* Altura de la navbar */
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: var(--spacing-sm);
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            font-size: 1.25rem;
            max-width: 800px;
            margin: 0 auto var(--spacing-lg);
            color: var(--text-light);
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--primary);
            color: white;
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-md);
        }

        .cta-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .cta-button i {
            margin-right: var(--spacing-xs);
        }

        /* Sección de información */
        .info-section {
            background: var(--surface);
            border-radius: 16px;
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            border: 1px solid var(--border);
            box-shadow: var(--shadow-md);
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: var(--spacing-lg);
            color: var(--primary);
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            margin: var(--spacing-xs) auto 0;
            border-radius: 2px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }

        .info-card {
            background: var(--surface);
            padding: var(--spacing-lg);
            border-radius: 12px;
            border: 1px solid var(--border);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .info-card h3 {
            color: var(--primary);
            margin-bottom: var(--spacing-sm);
            font-size: 1.3rem;
        }

        .info-card p {
            color: var(--text);
            margin-bottom: var(--spacing-sm);
        }

        .info-card ul {
            list-style-position: inside;
            margin-left: var(--spacing-sm);
        }

        .info-card li {
            margin-bottom: var(--spacing-xs);
        }

        /* Sección de Contacto */
        .contact-section {
            background: var(--surface);
            border-radius: 16px;
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            border: 1px solid var(--border);
            text-align: center;
            box-shadow: var(--shadow-md);
        }

        .contact-title {
            font-size: 1.8rem;
            margin-bottom: var(--spacing-md);
            color: var(--primary);
        }

        .contact-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-md);
        }

        .contact-email {
            color: var(--text-light);
            text-decoration: none;
            padding: var(--spacing-sm) var(--spacing-lg);
            background: rgba(59, 130, 246, 0.2);
            border-radius: 10px;
            display: inline-block;
            transition: all 0.2s ease;
            width: fit-content;
        }

        .contact-email:hover {
            background: rgba(59, 130, 246, 0.3);
            transform: translateY(-2px);
        }

        .contact-divider {
            margin: var(--spacing-md) 0;
            width: 100px;
            height: 2px;
            background: var(--border);
        }

        /* Modos de Uso */
        .modo-section {
            margin-bottom: var(--spacing-xl);
        }

        .modo-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .modo-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: var(--spacing-xl) var(--spacing-lg);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-align: center;
            box-shadow: var(--shadow-md);
        }

        .modo-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .modo-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .modo-card:hover::after {
            opacity: 0.1;
        }

        .modo-card.active {
            border-color: var(--primary);
            background: rgba(59, 130, 246, 0.15);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
        }

        .modo-icon {
            font-size: 3rem;
            margin-bottom: var(--spacing-md);
            color: var(--primary);
            transition: transform 0.3s ease;
        }

        .modo-card:hover .modo-icon {
            transform: scale(1.2);
        }

        .modo-card h3 {
            font-size: 1.5rem;
            margin-bottom: var(--spacing-sm);
            font-weight: 600;
        }

        .modo-card p {
            opacity: 0.8;
            font-size: 1.05rem;
        }

        /* Formularios */
        .form-section {
            margin-bottom: var(--spacing-xl);
        }

        .form-container {
            background: var(--surface);
            padding: var(--spacing-xl);
            border-radius: 16px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
        }

        .form-title {
            margin-bottom: var(--spacing-lg);
            color: var(--primary);
            font-size: 1.8rem;
            border-bottom: 2px solid var(--border);
            padding-bottom: var(--spacing-sm);
            display: flex;
            align-items: center;
        }

        .form-title::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 24px;
            background: var(--primary);
            margin-right: var(--spacing-sm);
            border-radius: 4px;
        }

        .input-group {
            margin-bottom: var(--spacing-md);
            position: relative;
        }

        .input-label {
            display: block;
            margin-bottom: var(--spacing-xs);
            color: var(--text-light);
            font-weight: 500;
        }

        input[type="text"], 
        input[type="number"],
        select {
            width: 100%;
            padding: var(--spacing-sm) var(--spacing-md);
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid var(--border);
            color: var(--text);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.2s ease;
        }

        select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 12px;
            padding-right: 36px;
        }

        input[type="file"] {
            padding: var(--spacing-xs) var(--spacing-sm);
            cursor: pointer;
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid var(--border);
            color: var(--text);
            border-radius: 8px;
            padding: 0.8rem;
            transition: all 0.2s ease;
        }

        input[type="file"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        input:focus, 
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .question-meta {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .difficulty-selector {
            display: flex;
            gap: var(--spacing-xs);
        }

        .difficulty-btn {
            width: 40px;
            height: 40px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .difficulty-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .options-section {
            margin-bottom: var(--spacing-lg);
        }

        .section-subtitle {
            margin-bottom: var(--spacing-sm);
            color: var(--text-light);
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .section-subtitle::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 16px;
            background: var(--primary);
            margin-right: var(--spacing-xs);
            border-radius: 2px;
        }

        .option-group {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .delete-option {
            background: rgba(239, 68, 68, 0.2);
            color: var(--error);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .delete-option:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .correct-answer {
            margin-bottom: var(--spacing-lg);
        }

        .advanced-settings {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .form-actions {
            display: flex;
            gap: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }

        .primary-btn {
            background: var(--primary);
            color: white;
            padding: var(--spacing-sm) var(--spacing-lg);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .secondary-btn {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
            padding: var(--spacing-sm) var(--spacing-lg);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .primary-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .secondary-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Preview Section */
        .preview-section {
            margin-bottom: var(--spacing-xl);
        }

        .preview-container {
            background: var(--surface);
            padding: var(--spacing-xl);
            border-radius: 16px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border);
        }

        .preview-title {
            margin-bottom: var(--spacing-lg);
            color: var(--primary);
            font-size: 1.8rem;
            border-bottom: 2px solid var(--border);
            padding-bottom: var(--spacing-sm);
            font-weight: 600;
        }

        .quiz-item {
            margin: var(--spacing-lg) 0;
            padding: var(--spacing-lg);
            background: rgba(59, 130, 246, 0.1);
            border-radius: 12px;
            border-left: 5px solid var(--primary);
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s ease;
        }

        .quiz-item:hover {
            transform: translateX(5px);
        }

        .quiz-item h4 {
            margin-bottom: var(--spacing-sm);
            color: var(--text-light);
            font-size: 1.1rem;
        }

        .quiz-item ul {
            list-style: none;
            margin: var(--spacing-sm) 0;
        }

        .quiz-item li {
            margin: var(--spacing-xs) 0;
            padding: var(--spacing-xs) 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
        }

        .quiz-item li::before {
            content: "•";
            color: var(--text-light);
            font-size: 1.2rem;
            margin-right: 10px;
        }

        .loading {
            text-align: center;
            color: var(--primary);
            padding: var(--spacing-lg);
            display: none;
            font-size: 1.1rem;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid rgba(59, 130, 246, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
            vertical-align: middle;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Quiz Interactivo */
        .quiz-interactive {
            background: rgba(255, 255, 255, 0.05);
            padding: var(--spacing-lg);
            border-radius: 12px;
            box-shadow: var(--shadow-sm);
        }

        .question-counter {
            color: var(--primary);
            margin-bottom: var(--spacing-md);
            font-weight: 600;
            font-size: 1.1rem;
            padding: var(--spacing-xs) var(--spacing-sm);
            background: rgba(59, 130, 246, 0.1);
            display: inline-block;
            border-radius: 20px;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: var(--spacing-lg);
            line-height: 1.6;
            color: white;
        }

        .option-button {
            width: 100%;
            text-align: left;
            padding: var(--spacing-sm);
            margin: var(--spacing-xs) 0;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            font-size: 1.05rem;
        }

        .option-button::before {
            content: '';
            display: inline-block;
            width: 22px;
            height: 22px;
            border: 2px solid rgba(59, 130, 246, 0.5);
            border-radius: 50%;
            margin-right: 15px;
            transition: all 0.2s ease;
        }

        .option-button:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateX(5px);
        }

        .option-button.correct {
            background: rgba(34, 197, 94, 0.2);
            border-color: var(--success);
        }

        .option-button.correct::before {
            border-color: var(--success);
            background: rgba(34, 197, 94, 0.3);
        }

        .option-button.incorrect {
            background: rgba(239, 68, 68, 0.2);
            border-color: var(--error);
        }

        .option-button.incorrect::before {
            border-color: var(--error);
            background: rgba(239, 68, 68, 0.3);
        }

        /* Footer */
        .footer {
            background: var(--surface);
            padding: var(--spacing-lg) 0;
            margin-top: auto;
            border-top: 1px solid var(--border);
        }

        .footer-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        .footer-left {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .footer-right {
            display: flex;
            gap: var(--spacing-md);
        }

        .footer-link {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .footer-link:hover {
            color: var(--primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .modo-selector {
                grid-template-columns: 1fr;
            }
            
            body {
                padding: var(--spacing-sm);
            }
            
            .container {
                max-width: 100%;
                padding: 0 var(--spacing-sm);
            }
            
            .nav-container {
                padding: var(--spacing-sm);
            }
            
            .nav-links {
                gap: var(--spacing-sm);
            }
            
            .nav-link {
                padding: var(--spacing-xs) var(--spacing-xs);
                font-size: 0.9rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .form-container, .preview-container {
                padding: var(--spacing-lg);
            }
            
            .about-contact-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <!-- Barra de Navegación -->
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">QuizMakerAI</div>
                <ul class="nav-links">
                    <li><a href="#hero" class="nav-link active">Inicio</a></li>
                    <li><a href="#about" class="nav-link">Acerca de</a></li>
                    <li><a href="#contact" class="nav-link">Contacto</a></li>
                    <li><a href="#modes" class="nav-link">Crear Quiz</a></li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <!-- Hero Section -->
            <section id="hero" class="hero">
                <h1>QuizMakerAI</h1>
                <p>Transforma el conocimiento en experiencias interactivas. Ideal para docentes que buscan innovar en el aula.</p>
                <a href="#modes" class="cta-button">
                    <i class="fas fa-play"></i>
                    Comenzar a crear
                </a>
            </section>

            <!-- Acerca de -->
            <section id="about" class="info-section">
                <h2 class="section-title">Acerca de QuizMakerAI</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Innovación Educativa</h3>
                        <p>QuizMakerAI es una herramienta diseñada para docentes que permite crear cuestionarios interactivos a partir de cualquier texto o material educativo.</p>
                        <p>Ideal para crear contenido educativo atractivo y efectivo.</p>
                    </div>
                    <div class="info-card">
                        <h3>Características</h3>
                        <ul style="margin: 1rem 0 0 1.5rem; line-height: 1.6;">
                            <li>Generación automática de preguntas con IA</li>
                            <li>Creación manual de quizzes personalizados</li>
                            <li>Formato interactivo para estudiantes</li>
                            <li>Ideal para evaluaciones y refuerzo de conceptos</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Contacto -->
            <section id="contact" class="contact-section">
                <h2 class="contact-title">Contacto</h2>
                <div class="contact-container">
                    <a href="mailto:jhon.quispe@estudiante.ugm.cl" class="contact-email">
                        <i class="fas fa-envelope"></i> jhon.quispe@estudiante.ugm.cl
                    </a>
                    <div class="contact-divider"></div>
                    <a href="mailto:juan.fabelo@estudiante.ugm.cl" class="contact-email">
                        <i class="fas fa-envelope"></i> juan.fabelo@estudiante.ugm.cl
                    </a>
                </div>
            </section>

            <!-- Modos de Uso -->
            <section id="modes" class="modo-section">
                <h2 class="section-title">Crear un Quiz</h2>
                <div class="modo-selector">
                    <div class="modo-card" data-mode="ia">
                        <div class="modo-icon">🤖</div>
                        <h3>Modo IA</h3>
                        <p>Genera quizzes automáticamente desde texto o archivos</p>
                    </div>
                    <div class="modo-card" data-mode="manual">
                        <div class="modo-icon">✍️</div>
                        <h3>Modo Manual</h3>
                        <p>Crea quizzes personalizados</p>
                    </div>
                </div>

                <!-- Modo IA Mejorado -->
                <div id="modo-ia" class="form-section">
                    <div class="form-container">
                        <h3 class="form-title">Generar con IA</h3>
                        <div class="input-group">
                            <textarea id="texto-ia" rows="5" placeholder="Pega aquí el texto o describe el tema para generar el quiz..."></textarea>
                            <div class="error-message" id="error-ia-texto">Por favor ingresa un texto para generar el quiz</div>
                        </div>
                        
                        <!-- Input para subir archivos -->
                        <div class="input-group">
                            <input type="file" id="file-input" accept=".txt,.md,.pdf,.docx">
                            <div class="error-message" id="error-file">Error al procesar el archivo</div>
                        </div>
                        
                        <div class="button-group">
                            <button id="btn-ia" onclick="generarQuizIA()">
                                <span class="spinner"></span>
                                <span>Generar Quiz con IA</span>
                            </button>
                        </div>
                        <div class="loading" id="ia-loading">Generando quiz...</div>
                    </div>
                </div>

                <!-- Modo Manual Mejorado -->
                <div id="modo-manual" class="form-section" style="display: none;">
                    <div class="form-container">
                        <h3 class="form-title">Crear Pregunta Manual</h3>
                        
                        <!-- Encabezado de la pregunta -->
                        <div class="input-group">
                            <label for="pregunta" class="input-label">Pregunta</label>
                            <input type="text" id="pregunta" placeholder="Escribe la pregunta completa...">
                            <div class="error-message" id="error-pregunta">Por favor ingresa una pregunta</div>
                        </div>

                        <!-- Metadata de la pregunta -->
                        <div class="question-meta">
                            <div class="input-group">
                                <label for="categoria" class="input-label">Categoría</label>
                                <select id="categoria">
                                    <option value="">Seleccionar...</option>
                                    <option value="matematicas">Matemáticas</option>
                                    <option value="historia">Historia</option>
                                    <option value="ciencia">Ciencia</option>
                                    <option value="literatura">Literatura</option>
                                </select>
                            </div>

                            <div class="input-group">
                                <label for="dificultad" class="input-label">Dificultad</label>
                                <div class="difficulty-selector">
                                    <button class="difficulty-btn active" data-level="facil">★</button>
                                    <button class="difficulty-btn" data-level="medio">★★</button>
                                    <button class="difficulty-btn" data-level="dificil">★★★</button>
                                </div>
                            </div>
                        </div>

                        <!-- Opciones de respuesta -->
                        <div class="options-section">
                            <h4 class="section-subtitle">Opciones de Respuesta</h4>
                            <div id="opciones-container">
                                <div class="input-group option-group">
                                    <input type="text" class="opcion" placeholder="Opción 1">
                                    <button class="delete-option" onclick="eliminarOpcion(this)">×</button>
                                </div>
                                <div class="input-group option-group">
                                    <input type="text" class="opcion" placeholder="Opción 2">
                                    <button class="delete-option" onclick="eliminarOpcion(this)">×</button>
                                </div>
                            </div>
                            
                            <div class="button-group">
                                <button id="btn-opcion" onclick="agregarOpcion()" class="secondary-btn">
                                    <i class="fas fa-plus"></i> Añadir Opción
                                </button>
                            </div>
                        </div>

                        <!-- Selección de respuesta correcta -->
                        <div class="correct-answer">
                            <h4 class="section-subtitle">Respuesta Correcta</h4>
                            <div class="input-group">
                                <select id="respuesta-select">
                                    <option value="">Seleccionar respuesta...</option>
                                </select>
                                <div class="error-message" id="error-respuesta">Por favor selecciona una respuesta</div>
                            </div>
                        </div>

                        <!-- Configuraciones adicionales -->
                        <div class="advanced-settings">
                            <div class="input-group">
                                <label for="tiempo" class="input-label">Tiempo límite (segundos)</label>
                                <input type="number" id="tiempo" min="10" max="300" placeholder="30">
                            </div>
                            
                            <div class="input-group">
                                <label for="puntos" class="input-label">Puntos</label>
                                <input type="number" id="puntos" min="1" max="10" placeholder="5">
                            </div>
                        </div>

                        <!-- Botones de acción -->
                        <div class="form-actions">
                            <button id="btn-manual" onclick="agregarPregunta()" class="primary-btn">
                                <i class="fas fa-save"></i> Guardar Pregunta
                            </button>
                            <button onclick="limpiarFormulario()" class="secondary-btn">
                                <i class="fas fa-eraser"></i> Limpiar
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Preview Section -->
            <section id="preview" class="preview-section">
                <div class="preview-container">
                    <h3 class="preview-title">Preview del Quiz</h3>
                    <div id="quiz-preview"></div>
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button id="tomar-quiz" onclick="iniciarQuiz()" style="display: none; flex: 1;">
                            <span>Tomar Quiz</span>
                        </button>
                        <button id="limpiar-quiz" onclick="limpiarQuiz()" style="display: none; flex: 1; background: #ef4444;">
                            <span>Limpiar Quiz</span>
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-container">
                <div class="footer-left">
                    © 2025 QuizMakerAI - Herramienta para crear quizzes interactivos
                </div>
                <div class="footer-right">
                    <a href="#hero" class="footer-link">Inicio</a>
                    <a href="#about" class="footer-link">Acerca de</a>
                    <a href="#contact" class="footer-link">Contacto</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // El JavaScript se mantiene igual que en la respuesta anterior
        let preguntas = [];
        let quizActual = 0;
        let puntaje = 0;
        const API_KEY = '0Oz56uebbgJcf6ebtzCSHd0E_gEE0sWQ19bFHLjTRgw';
        const CHATBOT_NAME = 'QuizMakerAl';

        // Función para actualizar el selector de respuestas
        function actualizarSelectorRespuestas() {
            const select = document.getElementById('respuesta-select');
            const opciones = document.querySelectorAll('.opcion');
            
            // Limpiar opciones
            select.innerHTML = '<option value="">Seleccionar respuesta...</option>';
            
            // Agregar opciones
            opciones.forEach((opcion, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = opcion.value || `Opción ${index + 1}`;
                select.appendChild(option);
            });
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            // Smooth scroll para links de la navbar
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Event listeners para modo selector
            document.querySelectorAll('.modo-card').forEach(card => {
                card.addEventListener('click', () => {
                    const mode = card.dataset.mode;
                    mostrarModo(mode);
                    
                    // Activar card
                    document.querySelectorAll('.modo-card').forEach(c => 
                        c.classList.remove('active'));
                    card.classList.add('active');
                });
            });

            // Validación en tiempo real para manual
            document.getElementById('pregunta').addEventListener('input', validarPregunta);
            document.getElementById('respuesta-select').addEventListener('change', validarRespuestaSelect);
            
            // Inicializar selector de respuestas
            actualizarSelectorRespuestas();
            
            // Event listeners para selector de dificultad
            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.difficulty-btn').forEach(b => 
                        b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Actualizar selector al cambiar opciones
            const observer = new MutationObserver(actualizarSelectorRespuestas);
            observer.observe(document.getElementById('opciones-container'), { 
                childList: true, 
                subtree: true 
            });
        });

        // Mostrar modo seleccionado
        function mostrarModo(modo) {
            document.getElementById('modo-ia').style.display = 
                modo === 'ia' ? 'block' : 'none';
            document.getElementById('modo-manual').style.display = 
                modo === 'manual' ? 'block' : 'none';
        }

        // Validar inputs en tiempo real
        function validarPregunta() {
            const input = document.getElementById('pregunta');
            const error = document.getElementById('error-pregunta');
            if(!input.value.trim()) {
                input.classList.add('error');
                error.style.display = 'block';
                return false;
            } else {
                input.classList.remove('error');
                error.style.display = 'none';
                return true;
            }
        }

        function validarRespuestaSelect() {
            const select = document.getElementById('respuesta-select');
            const error = document.getElementById('error-respuesta');
            if(select.value === '') {
                select.classList.add('error');
                error.style.display = 'block';
                return false;
            } else {
                select.classList.remove('error');
                error.style.display = 'none';
                return true;
            }
        }

        // Manejar upload de archivos
        async function handleFileUpload(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = async (event) => {
                const content = event.target.result;
                document.getElementById('texto-ia').value = content;
            };
            reader.readAsText(file);
        }

        // Generar Quiz con IA (Mejorado)
        async function generarQuizIA() {
            const texto = document.getElementById('texto-ia').value.trim();
            const loading = document.getElementById('ia-loading');
            const btn = document.getElementById('btn-ia');
            
            if (!texto) {
                document.getElementById('error-ia-texto').style.display = 'block';
                return;
            }

            try {
                btn.disabled = true;
                btn.classList.add('loading');
                loading.style.display = 'block';
                
                const response = await fetch('/.netlify/functions/generate-quiz', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json' 
                    },
                    body: JSON.stringify({ text: texto })
                });

                const data = await response.json();
                
                if (data && data.length) {
                    preguntas = data;
                    renderizarPreview();
                    document.getElementById('tomar-quiz').style.display = 'block';
                    document.getElementById('limpiar-quiz').style.display = 'block';
                    alert('¡Quiz generado con éxito!');
                } else {
                    throw new Error('Respuesta inválida del proxy');
                }
            } catch (error) {
                console.error('Error detallado:', error);
                alert(`Error: ${error.message}. Verifica el proxy y la API key.`);
            } finally {
                btn.disabled = false;
                btn.classList.remove('loading');
                loading.style.display = 'none';
            }
        }

        // El resto del JavaScript se mantiene igual
        // Funciones de modo manual
        function agregarOpcion() {
            const container = document.getElementById('opciones-container');
            const newInput = document.createElement('div');
            newInput.className = 'input-group option-group';
            newInput.innerHTML = `
                <input type="text" class="opcion" placeholder="Opción ${container.children.length + 1}">
                <button class="delete-option" onclick="eliminarOpcion(this)">×</button>
            `;
            container.appendChild(newInput);
            
            // Actualizar selector de respuestas
            actualizarSelectorRespuestas();
        }

        // Función para eliminar opción
        function eliminarOpcion(btn) {
            btn.parentElement.remove();
            actualizarSelectorRespuestas();
        }

        // Función para limpiar formulario
        function limpiarFormulario() {
            document.getElementById('pregunta').value = '';
            document.querySelectorAll('.opcion').forEach(op => op.value = '');
            document.getElementById('categoria').value = '';
            document.querySelectorAll('.difficulty-btn').forEach(btn => 
                btn.classList.remove('active'));
            document.querySelector('.difficulty-btn[data-level="facil"]').classList.add('active');
            document.getElementById('tiempo').value = '';
            document.getElementById('puntos').value = '';
            actualizarSelectorRespuestas();
        }

        // Modificar la función agregarPregunta
        function agregarPregunta() {
            // Validar inputs
            const preguntaValida = validarPregunta();
            const opciones = Array.from(document.getElementsByClassName('opcion'))
                                  .map(op => op.value.trim());
            const respuestaValida = document.getElementById('respuesta-select').value !== '';
            
            if(!preguntaValida || opciones.some(op => !op) || !respuestaValida) return;

            const pregunta = document.getElementById('pregunta').value.trim();
            const respuestaIndex = parseInt(document.getElementById('respuesta-select').value);
            const respuesta = opciones[respuestaIndex];
            
            // Obtener metadata
            const categoria = document.getElementById('categoria').value;
            const dificultad = document.querySelector('.difficulty-btn.active').dataset.level;
            const tiempo = document.getElementById('tiempo').value || 30;
            const puntos = document.getElementById('puntos').value || 5;
            
            // Agregar y limpiar
            preguntas.push({ 
                pregunta, 
                opciones, 
                respuesta,
                metadata: { categoria, dificultad, tiempo, puntos }
            });
            
            renderizarPreview();
            document.getElementById('tomar-quiz').style.display = 'block';
            document.getElementById('limpiar-quiz').style.display = 'block';
            
            // Limpiar formulario
            limpiarFormulario();
        }

        // Renderizar preview
        function renderizarPreview() {
            const preview = document.getElementById('quiz-preview');
            preview.innerHTML = preguntas.length ? 
                preguntas.map((q, i) => `
                    <div class="quiz-item">
                        <h4>Pregunta ${i+1}: ${q.pregunta}</h4>
                        <ul>
                            ${q.opciones.map(op => `<li>• ${op}</li>`).join('')}
                        </ul>
                        <p><strong>Respuesta correcta:</strong> ${q.respuesta}</p>
                        ${q.metadata ? `
                            <p><strong>Categoría:</strong> ${q.metadata.categoria || 'Sin categoría'}</p>
                            <p><strong>Dificultad:</strong> ${q.metadata.dificultad || 'Fácil'}</p>
                        ` : ''}
                    </div>
                `).join('') : 
                '<p style="color: var(--gris);">No hay preguntas aún. Crea una manualmente o genera con IA.</p>';
        }

        // Sistema de quiz interactivo
        function iniciarQuiz() {
            if(!preguntas.length) {
                alert('No hay preguntas para el quiz. Crea una manualmente o genera con IA.');
                return;
            }
            
            quizActual = 0;
            puntaje = 0;
            mostrarPregunta();
        }

        function mostrarPregunta() {
            if(quizActual >= preguntas.length) {
                alert(`Quiz completado! Puntuación: ${puntaje}/${preguntas.length}`);
                return;
            }

            const pregunta = preguntas[quizActual];
            const preview = document.getElementById('quiz-preview');
            
            preview.innerHTML = `
                <div class="quiz-interactive">
                    <div class="question-counter">Pregunta ${quizActual+1}/${preguntas.length}</div>
                    <h4 class="question-text">${pregunta.pregunta}</h4>
                    <div>
                        ${pregunta.opciones.map((op, idx) => `
                            <button class="option-button" onclick="verificarRespuesta(${idx})">
                                ${op}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function verificarRespuesta(opcionElegido) {
            const respuestaCorrecta = preguntas[quizActual].respuesta;
            const opciones = preguntas[quizActual].opciones;
            const buttons = document.querySelectorAll('.option-button');
            
            // Marcar respuesta
            buttons.forEach((btn, idx) => {
                if(idx === opcionElegido) {
                    btn.classList.add(opciones[idx] === respuestaCorrecta ? 'correct' : 'incorrect');
                } else if(opciones[idx] === respuestaCorrecta) {
                    btn.classList.add('correct');
                }
            });

            // Actualizar puntaje
            if(opciones[opcionElegido] === respuestaCorrecta) {
                puntaje++;
            }

            // Siguiente pregunta
            setTimeout(() => {
                quizActual++;
                mostrarPregunta();
            }, 1500);
        }

        // Limpiar quiz
        function limpiarQuiz() {
            if(confirm('¿Estás seguro de que deseas limpiar todas las preguntas?')) {
                preguntas = [];
                renderizarPreview();
                document.getElementById('tomar-quiz').style.display = 'none';
                document.getElementById('limpiar-quiz').style.display = 'none';
                alert('Quiz limpiado correctamente');
            }
        }
    </script>
</body>
</html>
